<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container-fluid">
  <div class="row">



    <nav class="navbar navbar-dark bg-orange d-md-none">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">Men√∫</span>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu"
          aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle sidebar">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>


    <!-- Sidebar -->
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse border-end">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">
          <li class="nav-item" *ngFor="let seccion of secciones">
            <a class="nav-link" [class.active]="seccionActiva === seccion.id" (click)="seleccionarSeccion(seccion.id)">
              {{ seccion.nombre }}
            </a>
          </li>
        </ul>
      </div>
    </nav>



    <!-- Main content -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <!-- USUARIOS -->
      <section *ngIf="seccionActiva === 'usuarios'" class="container mt-4">

        <!-- Usuarios Clientes -->
        <div class="card">
          <div class="card-header clientes-header">
            <h2 class="card-title">
              <div class="icon-circle">üë•</div>
              Usuarios Clientes
            </h2>
          </div>

          <div class="card-content">
            <!-- B√∫squeda -->
            <div class="search-container mb-3">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="form-control search-input" placeholder="Buscar clientes...">
            </div>

            <!-- Tabla -->
            <div class="table-responsive">
              <table class="table table-hover table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Nombre de Usuario</th>
                    <th>Nombre Completo</th>
                    <th>Direcci√≥n</th>
                    <th>Tel√©fono</th>
                    <th>Email</th>
                    <th>Tipo de Cliente</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let usuario of listaUsuarios" (click)="seleccionarFila(usuario, 'cliente')"
                    [class.table-primary]="usuarioSeleccionado === usuario">
                    <td hidden>{{usuario.id}}</td>
                    <td class="font-medium">{{ usuario.nombreUsuario }}</td>
                    <td class="font-medium">{{ usuario.nombreCompleto }}</td>
                    <td class="text-gray">{{ usuario.direccion }}</td>
                    <td>{{ usuario.telefono }}</td>
                    <td class="text-blue">{{ usuario.email }}</td>
                    <td>
                      <span class="badge" [ngClass]="usuario.tipoCliente === 'COMERCIO' ? 'COMERCIO' : 'PERSONA'">
                        {{ usuario.tipoCliente }}
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Botones -->
            <div class="action-buttons d-flex gap-2 mb-3">
              <button class="btn btn-create" (click)="abrirModal('cliente')">
                <i class="fas fa-plus"></i> Crear Cliente
              </button>
              <button class="btn btn-warning" (click)="abrirModal('cliente', usuarioSeleccionado)">
                <i class="fas fa-edit"></i> Modificar Cliente
              </button>
              <button class="btn btn-danger" (click)="eliminarCliente(usuarioSeleccionado)">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>

            <!-- Paginaci√≥n -->
            <div class="pagination d-flex gap-2 mb-5">
              <button class="btn btn-outline-secondary" (click)="anteriorPaginaUsuarios()"
                [disabled]="paginaUsuarios === 0">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <span class="align-self-center">P√°gina {{ paginaUsuarios + 1 }} de {{ totalPaginasUsuarios }}</span>
              <button class="btn btn-outline-secondary" (click)="siguientePaginaUsuarios()"
                [disabled]="paginaUsuarios >= totalPaginasUsuarios - 1">
                Siguiente <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Usuarios Administradores -->
        <div class="card">
          <div class="card-header admins-header">
            <h2 class="card-title">
              <div class="icon-circle">üõ°Ô∏è</div>
              Usuarios Administradores
            </h2>
          </div>

          <div class="card-content">
            <!-- B√∫squeda -->
            <div class="search-container mb-3">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="form-control search-input" placeholder="Buscar administradores...">
            </div>

            <!-- Tabla -->
            <div class="table-responsive">
              <table class="table table-hover table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Nombre de Usuario</th>
                    <th>C√©dula</th>
                    <th>Nombre Completo</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let administrador of getAdministradoresPaginados()"
                    (click)="seleccionarFila(administrador, 'admin')"
                    [class.table-primary]="administradorSeleccionado === administrador">
                    <td class="font-medium">{{ administrador.nombreUsuario }}</td>
                    <td class="font-mono">{{ administrador.cedula }}</td>
                    <td>{{ administrador.nombreCompleto }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Botones -->
            <div class="action-buttons d-flex gap-2 mb-3">
              <button class="btn btn-create-admin" (click)="abrirModal('admin')">
                <i class="fas fa-plus"></i> Crear Administrador
              </button>
              <button class="btn btn-warning" (click)="abrirModal('admin', administradorSeleccionado)">
                <i class="fas fa-edit"></i> Modificar Administrador
              </button>
              <button class="btn btn-danger" (click)="eliminarAdmin(administradorSeleccionado)">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>

            <!-- Paginaci√≥n -->
            <div class="pagination d-flex gap-2 mb-5">
              <button class="btn btn-outline-secondary" (click)="anteriorPaginaAdministradores()"
                [disabled]="paginaAdministradores === 0">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <span class="align-self-center">P√°gina {{ paginaAdministradores + 1 }} de {{ totalPaginasAdministradores
                }}</span>
              <button class="btn btn-outline-secondary" (click)="siguientePaginaAdministradores()"
                [disabled]="paginaAdministradores >= totalPaginasAdministradores - 1">
                Siguiente <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </section>


      <!-- MODALS -->
      <!-- Modal Cliente con estilos del Modal Admin -->
      <div class="modal-overlay" *ngIf="modalActivo && tipoModal === 'cliente'">
        <div class="modal-container">
          <div class="modal-header">
            <div class="modal-title-section">
              <div class="modal-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"
                    fill="currentColor" />
                  <path d="M12 14C7.58172 14 4 17.5817 4 22H20C20 17.5817 16.4183 14 12 14Z" fill="currentColor" />
                </svg>
              </div>
              <h2 class="modal-title">{{ modoEdicion ? 'Modificar' : 'Crear' }} Usuario Cliente</h2>
            </div>
            <button type="button" class="close-button" (click)="cerrarModal()" aria-label="Cerrar">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              </svg>
            </button>
          </div>

          <form (ngSubmit)="guardarUsuarioCliente()" class="modal-form">
            <div class="modal-body">
              <input type="hidden" [(ngModel)]="usuarioForm.id" name="id" />

              <div class="form-group">
                <label for="nombre_usuario" class="form-label">
                  <span class="label-text">Nombre de Usuario</span>
                  <span class="required">*</span>
                </label>
                <div class="input-wrapper">
                  <input id="nombre_usuario" type="text" class="form-input" placeholder="Ingrese el nombre de usuario"
                    [(ngModel)]="usuarioForm.nombreUsuario" name="nombre_usuario" required />
                </div>
              </div>

              <div class="form-group">
                <label for="nombre_completo" class="form-label">
                  <span class="label-text">Nombre Completo</span>
                </label>
                <div class="input-wrapper">
                  <input id="nombre_completo" type="text" class="form-input" placeholder="Ingrese el nombre completo"
                    [(ngModel)]="usuarioForm.nombreCompleto" name="nombre_completo" />
                </div>
              </div>

              <div class="form-group">
                <label for="direccion" class="form-label">
                  <span class="label-text">Direcci√≥n</span>
                </label>
                <div class="input-wrapper">
                  <input id="direccion" type="text" class="form-input" placeholder="Seleccione una ubicaci√≥n en el mapa"
                    [(ngModel)]="usuarioForm.direccion" name="direccion" readonly />
                </div>
                <div #map style="height: 200px; margin-top: 10px; border-radius: 8px; border: 1px solid #ddd;"></div>
              </div>
              

              <div class="form-group">
                <label for="telefono" class="form-label">
                  <span class="label-text">Tel√©fono</span>
                </label>
                <div class="input-wrapper">
                  <input id="telefono" type="text" class="form-input" placeholder="Ingrese el tel√©fono"
                    [(ngModel)]="usuarioForm.telefono" name="telefono" />
                </div>
              </div>

              <div class="form-group">
                <label for="email" class="form-label">
                  <span class="label-text">Email</span>
                </label>
                <div class="input-wrapper">
                  <input id="email" type="email" class="form-input" placeholder="Ingrese el email"
                    [(ngModel)]="usuarioForm.email" name="email" />
                </div>
              </div>

              <div class="form-group" *ngIf="!usuarioSeleccionado">
                <label for="contrasena" class="form-label">
                  <span class="label-text">Contrase√±a</span>
                </label>
                <div class="input-wrapper">
                  <input id="contrasena" type="password" class="form-input" placeholder="Ingrese la contrase√±a"
                    [(ngModel)]="usuarioForm.contrasenia" name="contrasena" />
                </div>
              </div>

              <div class="form-group">
                <label for="tipo_cliente" class="form-label">
                  <span class="label-text">Tipo de Cliente</span>
                  <span class="required">*</span>
                </label>
                <div class="input-wrapper">
                  <select id="tipo_cliente" class="form-select" [(ngModel)]="usuarioForm.tipoCliente"
                    name="tipo_cliente" required>
                    <option value="" disabled selected hidden>Seleccione una opci√≥n</option>
                    <option value="COMERCIO">COMERCIO</option>
                    <option value="PERSONA">PERSONA</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
              <button type="submit" class="btn btn-primary">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                    fill="currentColor" />
                </svg>
                {{ modoEdicion ? 'Guardar Cambios' : 'Crear Usuario' }}
              </button>
            </div>
          </form>
        </div>
      </div>



      <!-- Modal Admin -->
      <div class="modal-overlay" *ngIf="modalActivo && tipoModal === 'admin'">
        <div class="modal-container">
          <div class="modal-header">
            <div class="modal-title-section">
              <div class="modal-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"
                    fill="currentColor" />
                  <path d="M12 14C7.58172 14 4 17.5817 4 22H20C20 17.5817 16.4183 14 12 14Z" fill="currentColor" />
                </svg>
              </div>
              <h2 class="modal-title">{{modoEdicion ? 'Modificar' : 'Crear'}} Usuario Administrador</h2>
            </div>
            <button type="button" class="close-button" (click)="cerrarModal()" aria-label="Cerrar">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              </svg>
            </button>
          </div>

          <form (ngSubmit)="guardarUsuarioAdministrador()" class="modal-form">
            <div class="modal-body">
              <div class="form-group">
                <label for="admin_nombre" class="form-label">
                  <span class="label-text">Nombre de Usuario</span>
                  <span class="required">*</span>
                </label>
                <div class="input-wrapper">
                  <input id="admin_nombre" type="text" class="form-input" placeholder="Ingrese el nombre de usuario"
                    [(ngModel)]="adminForm.nombreUsuario" name="admin_nombre" required />
                </div>
              </div>

              <div class="form-group">
                <label for="admin_cedula" class="form-label">
                  <span class="label-text">C√©dula</span>
                </label>
                <div class="input-wrapper">
                  <input id="admin_cedula" type="text" class="form-input" placeholder="Ingrese la c√©dula"
                    [(ngModel)]="adminForm.cedula" name="admin_cedula" />
                </div>
              </div>

              <div class="form-group">
                <label for="admin_nombre_completo" class="form-label">
                  <span class="label-text">Nombre Completo</span>
                </label>
                <div class="input-wrapper">
                  <input id="admin_nombre_completo" type="text" class="form-input"
                    placeholder="Ingrese el nombre completo" [(ngModel)]="adminForm.nombreCompleto"
                    name="admin_nombre_completo" />
                </div>
              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" (click)="cerrarModal()">
                Cancelar
              </button>
              <button type="submit" class="btn btn-primary">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                    fill="currentColor" />
                </svg>
                {{modoEdicion ? 'Guardar Cambios' : 'Crear Administrador'}}
              </button>
            </div>
          </form>
        </div>
      </div>


      <!-- PEDIDOS -->
      <section *ngIf="seccionActiva === 'pedidos'" class="container mt-4">
        <!-- Pedidos -->
        <div class="card">
          <div class="card-header pedidos-header">
            <h2 class="card-title">
              <div class="icon-circle">üì¶</div>
              Pedidos
            </h2>
          </div>

          <div class="card-content">
            <!-- B√∫squeda -->
            <div class="search-container mb-3">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="form-control search-input" placeholder="Buscar pedidos..." />
            </div>

            <!-- Tabla -->
            <div class="table-responsive">
              <table class="table table-hover table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Fecha Pedido</th>
                    <th>Fecha Entrega</th>
                    <th>Entrega</th>
                    <th>M√©todo Pago</th>
                    <th>Estado</th>
                    <th>Periodicidad</th>
                    <th>Direcci√≥n</th>
                    <th>Cliente</th>
                    <th>Precio</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let pedido of listaPedidos" (click)="seleccionarFila(pedido, 'pedido')"
                    [class.table-primary]="pedidoSeleccionado === pedido">
                    <td hidden>{{ pedido.id }}</td>
                    <td>{{ pedido.fechaPedido | date:'dd/MM/yyyy' }}</td>
                    <td>{{ pedido.fechaEntrega | date:'dd/MM/yyyy' }}</td>
                    <td>{{ pedido.entrega ? 'S√≠' : 'No' }}</td>
                    <td>{{ pedido.metodoPago }}</td>
                    <td>{{ pedido.estado }}</td>
                    <td>{{ pedido.periodicidad }}</td>
                    <td>{{ pedido.direccion }}</td>
                    <td>{{ pedido.cliente.nombreUsuario }}</td>
                    <td>{{ pedido.precio }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Botones -->
            <div class="action-buttons d-flex gap-2 mb-3">
              <button class="btn btn-create" (click)="abrirModal('pedido')">
                <i class="fas fa-plus"></i> Crear Pedido
              </button>
              <button class="btn btn-warning" [disabled]="!pedidoSeleccionado"
                (click)="abrirModal('pedido', pedidoSeleccionado)">
                <i class="fas fa-edit"></i> Modificar Pedido
              </button>
              <button class="btn btn-danger" [disabled]="!pedidoSeleccionado" (click)="eliminarPedido()">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>

            <!-- Paginaci√≥n de Pedidos -->
            <div class="pagination d-flex gap-2 mb-5">
              <button class="btn btn-outline-secondary" (click)="anteriorPaginaPedidos()"
                [disabled]="paginaPedidos === 0">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <span class="align-self-center">P√°gina {{ paginaPedidos + 1 }} de {{ totalPaginasPedidos }}</span>
              <button class="btn btn-outline-secondary" (click)="siguientePaginaPedidos()"
                [disabled]="paginaPedidos >= totalPaginasPedidos - 1">
                Siguiente <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Modal para crear/modificar pedido con estilo unificado -->
        <div class="modal-overlay" *ngIf="modalActivo && tipoModal === 'pedido'">
          <div class="modal-container">
            <div class="modal-header">
              <div class="modal-title-section">
                <div class="modal-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10..." fill="currentColor" />
                  </svg>
                </div>
                <h2 class="modal-title">{{ modoEdicion ? 'Modificar' : 'Crear' }} Pedido</h2>
              </div>

              <button type="button" class="close-button" (click)="cerrarModal()" aria-label="Cerrar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
              </button>
            </div>

            <form class="modal-form" (ngSubmit)="guardarPedido()">
              <div class="modal-body">
                <input type="hidden" [(ngModel)]="pedidoForm.id" name="id" />

                <!-- Fecha Pedido -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Fecha de Pedido</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="date" class="form-input" [(ngModel)]="pedidoForm.fechaPedido" name="fechaPedido"
                      required />
                  </div>
                </div>

                <!-- Fecha Entrega -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Fecha de Entrega</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="date" class="form-input" [(ngModel)]="pedidoForm.fechaEntrega" name="fechaEntrega" />
                  </div>
                </div>

                <!-- Precio -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Precio</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="number" class="form-input" placeholder="Ingrese el precio"
                      [(ngModel)]="pedidoForm.precio" name="precio" required />
                  </div>
                </div>

                <!-- Entrega Checkbox -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Entrega</span>
                  </label>
                  <div class="input-wrapper">
                    <label class="custom-checkbox-container">
                      <input type="checkbox" [(ngModel)]="pedidoForm.entrega" name="entrega" />
                      <div class="custom-checkmark"></div>
                    </label>
                  </div>
                </div>

                <!-- M√©todo de Pago -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">M√©todo de Pago</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="pedidoForm.metodoPago" name="metodoPago" required>
                      <option value="" disabled selected hidden>Seleccione un m√©todo de pago</option>
                      <option value="EFECTIVO">EFECTIVO</option>
                      <option value="TRANSFERENCIA">TRANSFERENCIA</option>
                    </select>
                  </div>
                </div>

                <!-- Estado -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Estado</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="pedidoForm.estado" name="estado" required>
                      <option value="" disabled selected hidden>Seleccione un estado</option>
                      <option value="PENDIENTE">PENDIENTE</option>
                      <option value="ACEPTADO">ACEPTADO</option>
                      <option value="CANCELADO">CANCELADO</option>
                    </select>
                  </div>
                </div>

                <!-- Periodicidad -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Periodicidad</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="text" class="form-input" placeholder="Ingrese la periodicidad"
                      [(ngModel)]="pedidoForm.periodicidad" name="periodicidad" />
                  </div>
                </div>

                <!-- Direcci√≥n -->
                <div class="form-group">
                  <label for="direccion_pedido" class="form-label">
                    <span class="label-text">Direcci√≥n de Entrega</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input id="direccion_pedido" type="text" class="form-input" placeholder="Seleccione una ubicaci√≥n en el mapa"
                      [(ngModel)]="pedidoForm.direccion" name="direccion" readonly required />
                  </div>
                  <div #mapPedido style="height: 200px; margin-top: 10px; border-radius: 8px; border: 1px solid #ddd;"></div>
                </div>

                <!-- Motivo Beneficio -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Motivo Beneficio</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="text" class="form-input" placeholder="Ingrese el motivo"
                      [(ngModel)]="pedidoForm.motivoBeneficio" name="motivoBeneficio" />
                  </div>
                </div>

                <!-- Agencia -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Agencia</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="text" class="form-input" placeholder="Ingrese la agencia"
                      [(ngModel)]="pedidoForm.agencia" name="agencia" />
                  </div>
                </div>

                <!-- Cliente -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Cliente</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="pedidoForm.cliente.id" name="clienteId" required>
                      <option value="" disabled selected hidden>Seleccione un cliente</option>
                      <option *ngFor="let usuario of listaUsuarios" [value]="usuario.id">
                        {{ usuario.nombreCompleto }} - {{ usuario.tipoCliente }}
                      </option>
                    </select>
                  </div>
                </div>


                <!-- Pizzas -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Pizzas en el Pedido</span>
                  </label>
                  <div class="input-wrapper">
                    <div *ngFor="let item of pedidoForm.pizzas; let i = index" class="mb-2">
                      <div class="d-flex gap-2 align-items-center">
                        <div *ngIf="!modoEdicion">
                          <select class="form-select" [(ngModel)]="pedidoForm.pizzas[i].pizza.id" name="pizza{{i}}"
                            required>
                            <option value="" disabled hidden>Seleccione una pizza</option>
                            <option *ngFor="let pizza of listaPizzas" [value]="pizza.id">
                              {{ pizza.nombre }} ({{ pizza.tipo }})
                            </option>
                          </select>
                        </div>
                        <div *ngIf="modoEdicion">
                          <input type="text" class="form-input" [value]="pedidoForm.pizzas[i].pizza.nombre" readonly />
                        </div>
                        <input type="number" class="form-input" [(ngModel)]="pedidoForm.pizzas[i].cantidad"
                          name="cantidad{{i}}" placeholder="Cantidad" required min="1" />
                        <button type="button" class="btn btn-danger" (click)="quitarPizza(i)">Eliminar</button>
                      </div>
                    </div>
                    <button type="button" class="btn btn-primary mt-2" (click)="agregarPizzaAPedido()">Agregar
                      Pizza</button>
                  </div>
                </div>

              </div>

              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                      d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                      fill="currentColor" />
                  </svg>
                  {{ modoEdicion ? 'Guardar Cambios' : 'Crear Pedido' }}
                </button>
                <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
              </div>
            </form>
          </div>
        </div>


      </section>


      <!-- FIESTAS -->
      <section *ngIf="seccionActiva === 'fiestas'" class="container mt-4">
        <div class="card">
          <div class="card-header fiestas-header">
            <h2 class="card-title">
              <div class="icon-circle">üéâ</div>
              Fiestas
            </h2>
          </div>

          <div class="card-content">

            <!-- B√∫squeda -->
            <div class="search-container mb-3">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="form-control search-input" placeholder="Buscar fiestas..." />
            </div>

            <!-- Tabla -->
            <div class="table-responsive">
              <table class="table table-hover table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Fecha Fiesta</th>
                    <th>Hora Servir</th>
                    <th>Cant. Personas</th>
                    <th>Precio</th>
                    <th>Pago</th>
                    <th>Estado</th>
                    <th>Direcci√≥n</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let fiesta of listaFiestas" (click)="seleccionarFila(fiesta, 'fiesta')"
                    [class.table-primary]="fiestaSeleccionada === fiesta">
                    <td>{{ fiesta.fechaFiesta | date:'dd/MM/yyyy' }}</td>
                    <td>{{ fiesta.horaServir | date:'HH:mm' }}</td>
                    <td>{{ fiesta.cantidadPersonas }}</td>
                    <td>{{ fiesta.precio }}</td>
                    <td>{{ fiesta.pago }}</td>
                    <td>{{ fiesta.estado }}</td>
                    <td>{{ fiesta.direccion }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Botones -->
            <div class="action-buttons d-flex gap-2 mb-3">
              <button class="btn btn-create" (click)="abrirModal('fiesta')">
                <i class="fas fa-plus"></i> Crear Fiesta
              </button>
              <button class="btn btn-warning" (click)="abrirModal('fiesta', fiestaSeleccionada)">
                <i class="fas fa-edit"></i> Modificar Fiesta
              </button>
              <button class="btn btn-danger" (click)="eliminarFiesta(fiestaSeleccionada)">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>

            <!-- Paginaci√≥n de Fiestas -->
            <div class="pagination d-flex gap-2 mb-5">
              <button class="btn btn-outline-secondary" (click)="anteriorPaginaFiestas()"
                [disabled]="paginaFiestas === 0">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <span class="align-self-center">P√°gina {{ paginaFiestas + 1 }} de {{ totalPaginasFiestas }}</span>
              <button class="btn btn-outline-secondary" (click)="siguientePaginaFiestas()"
                [disabled]="paginaFiestas >= totalPaginasFiestas - 1">
                Siguiente <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
        <!-- Modal para crear/modificar fiesta -->
        <div class="modal-overlay" *ngIf="modalActivo && tipoModal === 'fiesta'">
          <div class="modal-container">
            <div class="modal-header">
              <div class="modal-title-section">
                <div class="modal-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10..." fill="currentColor" />
                  </svg>
                </div>
                <h2 class="modal-title">{{ modoEdicion ? 'Modificar' : 'Crear' }} Fiesta</h2>
              </div>
              <button type="button" class="close-button" (click)="cerrarModal()" aria-label="Cerrar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
              </button>
            </div>

            <form (ngSubmit)="guardarFiesta()" class="modal-form">
              <div class="modal-body">
                <input type="hidden" [(ngModel)]="fiestasForm.id" name="id" />

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Fecha de la Fiesta</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="date" class="form-input" [(ngModel)]="fiestasForm.fechaFiesta" name="fechaFiesta"
                      required />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Hora de Servicio</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="time" class="form-input" [(ngModel)]="fiestasForm.horaServir" name="horaServir"
                      required />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Cantidad de Personas</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="number" class="form-input" placeholder="Ingrese la cantidad"
                      [(ngModel)]="fiestasForm.cantidadPersonas" name="cantidadPersonas" required />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Precio</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="number" class="form-input" placeholder="Ingrese el precio"
                      [(ngModel)]="fiestasForm.precio" name="precio" required />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Pago</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="fiestasForm.pago" name="pago" required>
                      <option value="" disabled selected hidden>Seleccione un m√©todo de pago</option>
                      <option value="EFECTIVO">EFECTIVO</option>
                      <option value="TRANSFERENCIA">TRANSFERENCIA</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Estado</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="fiestasForm.estado" name="estado" required>
                      <option value="" disabled selected hidden>Seleccione un estado</option>
                      <option value="PENDIENTE">PENDIENTE</option>
                      <option value="ACEPTADO">ACEPTADO</option>
                      <option value="CANCELADO">CANCELADO</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Cliente</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="fiestasForm.cliente.id" name="clienteId" required>
                      <option value="" disabled selected hidden>Seleccione un cliente</option>
                      <option *ngFor="let usuario of listaUsuarios" [value]="usuario.id">
                        {{ usuario.nombreCompleto }} - {{ usuario.tipoCliente }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label for="direccion_fiesta" class="form-label">
                    <span class="label-text">Direcci√≥n del Evento</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input id="direccion_fiesta" type="text" class="form-input" placeholder="Seleccione una ubicaci√≥n en el mapa"
                      [(ngModel)]="fiestasForm.direccion" name="direccion" readonly required />
                  </div>
                  <div #mapFiesta style="height: 200px; margin-top: 10px; border-radius: 8px; border: 1px solid #ddd;"></div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Extras</span>
                  </label>
                  <div class="custom-input-wrapper d-flex flex-column">
                    <label class="custom-checkbox-container" for="hamburguesa">
                      <input type="checkbox" id="hamburguesa" name="hamburguesa"
                        [(ngModel)]="fiestasForm.hamburguesa" />
                      <div class="custom-checkmark"></div>Hamburguesa
                    </label>

                    <label class="custom-checkbox-container" for="chivito">
                      <input type="checkbox" id="chivito" name="chivito" [(ngModel)]="fiestasForm.chivito" />
                      <div class="custom-checkmark"></div>Chivito
                    </label>
                  </div>

                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Pizzas en la Fiesta</span>
                  </label>
                  <div class="input-wrapper">
                    <div *ngFor="let item of fiestasForm.pizzas; let i = index"
                      class="d-flex gap-2 align-items-center mb-2">
                      <div *ngIf="!modoEdicion" class="flex-grow-1">
                        <select class="form-select" [(ngModel)]="fiestasForm.pizzas[i].pizza.id" name="pizza{{i}}"
                          required>
                          <option value="" disabled selected hidden>Seleccione una pizza</option>
                          <option *ngFor="let pizza of listaPizzas" [value]="pizza.id">
                            {{ pizza.nombre }} ({{ pizza.tipo }})
                          </option>
                        </select>
                      </div>
                      <div *ngIf="modoEdicion" class="flex-grow-1">
                        <input type="text" class="form-input" [value]="fiestasForm.pizzas[i].pizza.nombre" readonly />
                      </div>

                      <input type="number" class="form-input" [(ngModel)]="fiestasForm.pizzas[i].cantidad"
                        name="cantidad{{i}}" placeholder="Cantidad" required min="1" />
                      <button type="button" class="btn btn-danger" (click)="quitarPizza(i)">Eliminar</button>
                    </div>
                    <button type="button" class="btn btn-primary" (click)="agregarPizzaAFiesta()">Agregar Pizza</button>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                      d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                      fill="currentColor" />
                  </svg>
                  {{ modoEdicion ? 'Guardar Cambios' : 'Crear Pedido' }}
                </button>
                <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
              </div>
            </form>
          </div>
        </div>



      </section>


      <!-- PIZZAS -->
      <section *ngIf="seccionActiva === 'pizzas'" class="container mt-4">
        <div class="card">
          <div class="card-header pizzas-header">
            <h2 class="card-title">
              <div class="icon-circle">üçï</div>
              Pizzas
            </h2>
          </div>

          <div class="card-content">

            <!-- B√∫squeda -->
            <div class="search-container mb-3">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="form-control search-input" placeholder="Buscar pizzas..." />
            </div>

            <!-- Tabla -->
            <div class="table-responsive">
              <table class="table table-hover table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Descripci√≥n</th>
                    <th>Tipo</th>
                    <th>Ingredientes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let pizza of getPizzasPaginadas()" (click)="seleccionarFila(pizza, 'pizza')"
                    [class.table-primary]="pizzaSeleccionada === pizza">
                    <td>{{ pizza.nombre }}</td>
                    <td>{{ pizza.precio | currency }}</td>
                    <td>{{ pizza.descripcion }}</td>
                    <td>{{ pizza.tipo }}</td>
                    <td>
                      <button class="btn btn-primary" (click)="abrirModalIngredientes(pizza)">
                        Ver Ingredientes
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Botones -->
            <div class="action-buttons d-flex gap-2 mb-3">
              <button class="btn btn-create" (click)="abrirModal('pizza')">
                <i class="fas fa-plus"></i> Crear Pizza
              </button>
              <button class="btn btn-warning" (click)="abrirModal('pizza', pizzaSeleccionada)">
                <i class="fas fa-edit"></i> Modificar Pizza
              </button>
              <button class="btn btn-danger" (click)="eliminarPizza(pizzaSeleccionada)">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>

            <!-- Paginaci√≥n -->
            <div class="pagination d-flex gap-2 mb-5">
              <button class="btn btn-outline-secondary" (click)="anteriorPaginaPizzas()">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <button class="btn btn-outline-secondary" (click)="siguientePaginaPizzas()">
                Siguiente <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="modal modal-ingredientes" tabindex="-1" [ngClass]="{'show': mostrarModal}" style="display: block;"
          *ngIf="mostrarModal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Ingredientes de {{ pizzaSeleccionada?.nombre }}</h5>
                <button type="button" class="close" (click)="cerrarModalP()">
                  <span>&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <ul>
                  <li *ngFor="let ingrediente of pizzaSeleccionada?.ingredientes">
                    Ingrediente: {{ ingrediente?.ingrediente?.nombre }} : {{ ingrediente?.cantidad }}({{
                    ingrediente?.ingrediente?.unidad_medida }})
                  </li>
                </ul>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="cerrarModalP()">Cerrar</button>
              </div>
            </div>
          </div>
        </div>


        <!-- Modal Pizza con clases espec√≠ficas -->
        <div class="modal-overlay modal-pizza-overlay" *ngIf="modalActivo && tipoModal === 'pizza'">
          <div class="modal-container modal-pizza-container">
            <div class="modal-header">
              <div class="modal-title-section">
                <div class="modal-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10..." fill="currentColor" />
                  </svg>
                </div>
                <h2 class="modal-title">{{ modoEdicion ? 'Modificar' : 'Crear' }} Pizza</h2>
              </div>
              <button type="button" class="close-button" (click)="cerrarModal()" aria-label="Cerrar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
              </button>
            </div>

            <form (ngSubmit)="guardarPizza()" class="modal-form">
              <div class="modal-body modal-pizza-body">
                <input type="hidden" [(ngModel)]="pizzasForm.id" name="id" />

                <!-- Imagen -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Imagen de la Pizza</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="file" class="form-input" (change)="procesarImagen($event)" accept="image/*" />
                  </div>
                  <div *ngIf="pizzasForm.imagen" class="mt-2">
                    <img [src]="pizzasForm.imagen" alt="Vista previa de la pizza" class="img-preview-pizza" />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Nombre de la Pizza</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="text" class="form-input" [(ngModel)]="pizzasForm.nombre" name="nombre" required
                      placeholder="Ingrese el nombre de la pizza" />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Precio</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="number" class="form-input" [(ngModel)]="pizzasForm.precio" name="precio" required
                      placeholder="Ingrese el precio" />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Descripci√≥n</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input type="text" class="form-input" [(ngModel)]="pizzasForm.descripcion" name="descripcion"
                      required placeholder="Ingrese la descripci√≥n" />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Tipo de Pizza</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select class="form-select" [(ngModel)]="pizzasForm.tipo" name="tipo" required>
                      <option value="" disabled selected hidden>Seleccione un tipo de pizza</option>
                      <option value="Pizza redonda">Pizza redonda</option>
                      <option value="Pizza 1/2 metro">Pizza 1/2 metro</option>
                      <option value="Pizza cuadradas">Pizza cuadradas</option>
                      <option value="Pizza gigantes">Pizza gigantes</option>
                    </select>
                  </div>
                </div>

                <!-- Ingredientes -->
                <div class="form-group">
                  <label class="form-label">
                    <span class="label-text">Ingredientes</span>
                    <span class="required">*</span>
                  </label>

                  <div *ngFor="let item of pizzasForm.ingredientes; let i = index" class="ingrediente-item mb-2">
                    <div *ngIf="modoEdicion">
                      <input type="hidden" [(ngModel)]="pizzasForm.ingredientes[i].ingrediente.id"
                        name="ingredienteId{{i}}" required />
                      <input type="text" class="form-input" [value]="pizzasForm.ingredientes[i].ingrediente.nombre"
                        readonly />
                    </div>

                    <div *ngIf="!modoEdicion">
                      <div class="input-wrapper">
                        <select class="form-select ingrediente-select"
                          [(ngModel)]="pizzasForm.ingredientes[i].ingredienteId" name="ingrediente{{i}}" required>
                          <option value="" disabled selected hidden>Seleccione un ingrediente</option>
                          <option *ngFor="let ingrediente of listaIngredientes" [value]="ingrediente.id">
                            {{ ingrediente.nombre }} ({{ ingrediente.unidad_medida }})
                          </option>
                        </select>
                      </div>
                    </div>

                    <div class="input-wrapper">
                      <input type="number" class="form-input small-input" placeholder="Cantidad"
                        [(ngModel)]="pizzasForm.ingredientes[i].cantidad" name="cantidad{{i}}" required min="1" />
                    </div>

                    <button type="button" class="btn btn-danger" (click)="quitarIngrediente(i)">Quitar</button>
                  </div>

                  <button type="button" class="btn btn-primary mt-2" (click)="agregarIngrediente()">Agregar
                    Ingrediente</button>
                </div>
              </div>

              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">
                  {{ modoEdicion ? 'Guardar Cambios' : 'Crear Pizza' }}
                </button>
                <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
              </div>
            </form>
          </div>
        </div>





      </section>

      <!-- INGREDIENTES -->
      <section *ngIf="seccionActiva === 'ingredientes'" class="container mt-4">

        <div class="card">
          <div class="card-header ingredientes-header">
            <h2 class="card-title">
              <div class="icon-circle">ü•ï</div>
              Ingredientes
            </h2>
          </div>

          <div class="card-content">

            <!-- Buscador -->
            <div class="search-container mb-3">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="form-control search-input" placeholder="Buscar ingredientes..." />
            </div>

            <!-- Tabla -->
            <div class="table-responsive">
              <table class="table table-hover table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Nombre de ingredientes</th>
                    <th>Cantidad</th>
                    <th>Unidad de medida</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let ingrediente of getIngredientesPaginados()"
                    (click)="seleccionarFila(ingrediente, 'ingrediente')"
                    [class.table-primary]="ingredienteSeleccionado === ingrediente">
                    <td>{{ ingrediente.nombre }}</td>
                    <td>{{ ingrediente.cantidad }}</td>
                    <td>{{ ingrediente.unidad_medida }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Botones -->
            <div class="action-buttons d-flex gap-2 mb-3">
              <button class="btn btn-create" (click)="abrirModal('ingrediente')">
                <i class="fas fa-plus"></i> Crear Ingrediente
              </button>
              <button class="btn btn-warning" (click)="abrirModal('ingrediente', ingredienteSeleccionado)">
                <i class="fas fa-edit"></i> Modificar Ingrediente
              </button>
              <button class="btn btn-danger" (click)="eliminarIngrediente(ingredienteSeleccionado)">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>

            <!-- Paginaci√≥n -->
            <div class="pagination d-flex gap-2 mb-5">
              <button class="btn btn-outline-secondary" (click)="anteriorPaginaIngredientes()">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <button class="btn btn-outline-secondary" (click)="siguientePaginaIngredientes()">
                Siguiente <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>


        <!-- Modal crear/modificar ingrediente con clases modal cliente -->
        <div class="modal-overlay" *ngIf="modalActivo && tipoModal === 'ingrediente'">
          <div class="modal-container">
            <div class="modal-header">
              <div class="modal-title-section">
                <div class="modal-icon">
                  <!-- Puedes poner un √≠cono aqu√≠ si quer√©s -->
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M12 2C10.3431 2 9 3.34315 9 5C9 6.65685 10.3431 8 12 8C13.6569 8 15 6.65685 15 5C15 3.34315 13.6569 2 12 2Z"
                      fill="currentColor" />
                    <path d="M12 10C8.68629 10 6 12.6863 6 16H18C18 12.6863 15.3137 10 12 10Z" fill="currentColor" />
                  </svg>
                </div>
                <h2 class="modal-title">{{ modoEdicion ? 'Modificar' : 'Crear' }} Ingrediente</h2>
              </div>
              <button type="button" class="close-button" (click)="cerrarModal()" aria-label="Cerrar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
              </button>
            </div>

            <form (ngSubmit)="guardarIngrediente()" class="modal-form">
              <div class="modal-body">
                <input type="hidden" [(ngModel)]="ingredientesForm.id" name="id" />

                <div class="form-group">
                  <label for="nombre_ingrediente" class="form-label">
                    <span class="label-text" required>Nombre del Ingrediente</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input id="nombre_ingrediente" type="text" class="form-input" placeholder="Nombre del Ingrediente"
                      [(ngModel)]="ingredientesForm.nombre" name="nombre" required />
                  </div>
                </div>

                <div class="form-group">
                  <label for="cantidad_ingrediente" class="form-label">
                    <span class="label-text">Cantidad</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input id="cantidad_ingrediente" type="number" class="form-input" placeholder="Cantidad"
                      [(ngModel)]="ingredientesForm.cantidad" name="cantidad" required min="0.01" step="0.01" />
                  </div>
                </div>

                <div class="form-group">
                  <label for="unidad_medida" class="form-label">
                    <span class="label-text">Unidad de Medida</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <select id="unidad_medida" class="form-select" [(ngModel)]="ingredientesForm.unidad_medida"
                      name="unidad_medida" required>
                      <option value="" disabled selected hidden>Seleccione unidad de medida</option>
                      <option value="G">G</option>
                      <option value="KG">KG</option>
                      <option value="ML">ML</option>
                      <option value="L">L</option>
                      <option value="CDRA">CDRA</option>
                      <option value="OZ">OZ</option>
                      <option value="LB">LB</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
                <button type="submit" class="btn btn-primary">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                      fill="currentColor" />
                  </svg>
                  {{ modoEdicion ? 'Guardar Cambios' : 'Crear Ingrediente' }}
                </button>
              </div>
            </form>
          </div>
        </div>


      </section>

    </main>
  </div>
</div>